{% extends "dashboard/base.html.twig" %}

{% set title = title|trans %}
{% set headerText = (id is null) ? 'Create' : 'Update' %}
{% set path = (id is null) ? path("user.add") : path("user.edit", {id: id}) %}

{% block content %}
    
    <div class="row">
        <div class="col-md-12">
            <h1 class="page-header">{{ headerText|trans }} {{ "User"|trans }}</h1>
        </div>
        <form name="user-form" method="post" action="{{ path }}" novalidate>
            <div class="col-md-6">
                <!-- FORM ERRORS -->
                {% if form_errors(form) %}
                    <div class="alert alert-error">
                        {{- form_errors(form) -}}
                    </div>
                {% endif %}

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_row(form.first_name) }}
                        </div>
                        <div class="form-group">
                            {{ form_row(form.last_name) }}
                        </div>
                        <div class="form-group">
                            {{ form_row(form.username) }}
                        </div>
                        <div class="form-group">
                            {{ form_row(form.plainPassword) }}
                        </div>
                    </div>
                </div>

                <div class="row">
                   <div class="col-md-12">
                       <button class="btn btn-primary" type="submit">Save</button>
                       <a class="btn btn-default" href="{{ path('users') }}">Back</a>
                   </div>                    
                </div>
            </div>
        </form>    
    </div>
{% endblock %}